<!--박지영-->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/css/userHome.css}">
    <style>
        body {
        margin: 0;
        font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
        background-color: #fffdf6; /* 따뜻한 아이보리 배경 */
        color: #333;
        }

        table {
        width: 90%;
        margin: 40px auto;
        border-collapse: separate;
        border-spacing: 0 12px; /* 행 간격 */
        }

        th {
        background-color: #f4f1e8;
        color: #5c5248;
        font-weight: bold;
        padding: 12px 20px;
        text-align: left;
        border-bottom: 2px solid #e0dccc;
        font-size: 16px;
        }

        td {
        background-color: #fdfcf9;
        padding: 14px 20px;
        border: 1px solid #f0ede6;
        border-radius: 12px;
        box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.04);
        font-size: 15px;
        }

        tr td:first-child a {
        color: #3c70a4;
        font-weight: 600;
        text-decoration: none;
        transition: color 0.3s;
        }

        tr td:first-child a:hover {
        color: #1f4d80;
        text-decoration: underline;
        }

        tr td {
        transition: background-color 0.3s ease;
        }

        tr:hover td {
        background-color: #f0f4ff;
        }

        /* 포근한 느낌의 로고 주위 여백 */
        #logo {
        padding: 10px;
        max-height: 60px;
        }

        /* 미디어 대응 */
        @media (max-width: 768px) {
        table {
        width: 100%;
        }

        td, th {
        padding: 10px;
        font-size: 14px;
        }
        }
    </style>
</head>
<body>

<div th:replace="header/userHeader :: main-header"></div>
<form name="form" method="get" action="/notice/list" style="display: inline;">
    <div id="nav">
        <select class="search" name="searchType">
            <option value="" th:selected="${searchType == null}">===선택===</option>
            <option value="subject" th:selected="${searchType == 'subject'}">제목</option>
            <option value="writer" th:selected="${searchType == 'writer'}">작성자</option>
            <option value="content" th:selected="${searchType == 'content'}">내용</option>
        </select>
        <input type="text" name="keyword" id="search" th:value="${keyword}" placeholder="검색어 입력">
        <button type="submit">search</button>
    </div>
</form>
<table>
    <tr>
        <th>제목</th>
        <th>작성자</th>
        <th>작성일</th>
    </tr>
    <tr th:each="noticeDTO, loop:${list}">
        <td><a th:href="@{|/notice/view/${noticeDTO.no}|}" th:text="${noticeDTO.subject}"></a></td>
        <td>[[${noticeDTO.writer}]]</td>
        <td th:text="${#temporals.format(noticeDTO.regiDate, 'yyyy-MM-dd HH:mm:ss')}"></td>
    </tr>
</table>
<div th:if="${!paging.isEmpty()}">
    <ul>
        <li th:classappend="${!paging.hasPrevious} ? 'disabled'">
            <a th:if="${!paging.first}"
               th:href="@{|?page=${paging.number - 1}&searchType=${searchType}&keyword=${keyword}|}">
                <span>이전</span>
            </a>
            <span th:if="${paging.first}">이전</span>
        </li>
        <li th:each="page : ${#numbers.sequence(0, paging.totalPages - 1)}"
            th:if="${page >= paging.number - 3 and page <= paging.number + 3}"
            th:classappend="${page == paging.number} ? 'active'">
            <a th:text="${page + 1}"
               th:href="@{|?page=${page}&searchType=${searchType}&keyword=${keyword}|}">
            </a>
        </li>
        <li th:classappend="${paging.last} ? 'disabled'">
            <a th:if="${!paging.last}"
               th:href="@{|?page=${paging.number + 1}&searchType=${searchType}&keyword=${keyword}|}">
                <span>다음</span>
            </a>
            <span th:if="${paging.last}">다음</span>
        </li>
    </ul>
</div>

</body>
</html>